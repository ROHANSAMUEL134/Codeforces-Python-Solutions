for _ in range(int(input())):
    grid = []
    for i in range(3):
        grid.append(input())
    for row in grid:
        if '?' in row:
            if 'A' not in row:
                print('A')
            elif 'B' not in row:
                print('B')
            else:
                print('C')
            break
    
                
